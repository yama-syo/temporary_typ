// https://note.com/yamanoborer/n/n2e4cc40328b7
// https://qiita.com/rukiadia/items/03aaa8955c0f6576a5e7
// https://cly7796.net/blog/javascript/set-arguments-to-the-function-with-addeventlistener/
// https://www.bing.com/search?q=javascirpt+file+reader&qs=n&form=QBRE&sp=-1&pq=javascirpt+file+reader&sc=7-22&sk=&cvid=8ECDF008EBD24B40ADA8BE3D3F6C3C40&ghsh=0&ghacc=0&ghpl=
// https://ja.javascript.info/file
// https://developer.mozilla.org/ja/docs/Web/API/FileReader/FileReader
// https://developer.mozilla.org/ja/docs/Web/API/FileReader/readAsDataURL
// https://developer.mozilla.org/ja/docs/Web/HTML/Element/ruby
// https://developer.mozilla.org/ja/docs/Web/HTML/Element/rp
// https://developer.mozilla.org/ja/docs/Web/HTML/Element/rt
// https://developer.mozilla.org/ja/docs/Web/HTML/Element/data
// https://qiita.com/allein-s/items/13d0e2fc0896df83b234
// https://jsprimer.net/basic/async/#error-first-callback
// https://coliss.com/articles/build-websites/operation/css/the-state-of-css-2022.html
// https://web-camp.io/magazine/archives/85111
// https://developer.mozilla.org/ja/docs/Web/HTML/Element/output
// https://developer.mozilla.org/ja/docs/Web/HTML/Element/datalist
// https://on-ze.com/archives/1721
// https://www.bing.com/search?q=html+option+css&qs=n&form=QBRE&sp=-1&pq=html+option+css&sc=7-15&sk=&cvid=67C17776AA2E48609739C49D353A5E69&ghsh=0&ghacc=0&ghpl=
// https://kodocode.net/design-css-selectlist/
// https://webukatu.com/wordpress/blog/9501/
// https://hacknote.jp/archives/16346/
// https://edge.sincar.jp/web/selectbox-appearance-customize/
// https://developer.mozilla.org/ja/docs/Web/CSS/list-style
// https://blog.capilano-fw.com/?p=4783#Vue
// https://qiita.com/shuichi0712/items/3db8c73e859642ec6fca
// https://csshtml.work/option-css/
// https://developer.mozilla.org/en-US/docs/Learn/Forms/How_to_build_custom_form_controls
// https://developer.mozilla.org/ja/docs/Web/API/HTMLDataListElement
// https://developer.mozilla.org/ja/docs/Web/HTML/Element/select
// https://developer.mozilla.org/ja/docs/Web/HTML/Element/option
// https://developer.mozilla.org/ja/docs/Web/HTML/Element/optgroup
// https://developer.mozilla.org/ja/docs/Web/HTML/Element/dfn
// https://developer.mozilla.org/ja/docs/Web/HTML/Element/dt
// https://developer.mozilla.org/ja/docs/Web/HTML/Element/dd
// https://developer.mozilla.org/ja/docs/Web/HTML/Element/dl
// https://developer.mozilla.org/ja/docs/Web/HTML/Element/progress
// https://developer.mozilla.org/ja/docs/Web/HTML/Element/input/datetime-local
// https://developer.mozilla.org/ja/docs/Web/HTML/Element/input/hidden
// https://developer.mozilla.org/ja/docs/Web/HTML/Element/input/radio
// https://developer.mozilla.org/ja/docs/Web/HTML/Element/input/reset
// https://developer.mozilla.org/ja/docs/Web/HTML/Element/input/range
// https://qiita.com/taku_u9501/items/37c36cf9ad321b29302b
// https://css-tricks.com/multi-thumb-sliders-particular-two-thumb-case/
// https://css-tricks.com/multi-thumb-sliders-general-case/
// https://developer.mozilla.org/ja/docs/Web/CSS/::-webkit-slider-thumb
// https://developer.mozilla.org/ja/docs/Web/CSS/::-webkit-slider-runnable-track
// https://developer.mozilla.org/en-US/docs/Web/CSS/::-moz-range-thumb
// https://developer.mozilla.org/en-US/docs/Web/CSS/::-moz-range-track
// https://chrome.google.com/webstore/detail/copy-all-urls/djdmadneanknadilpjiknlnanaolmbfk/related?hl=ja

// https://parashuto.com/rriver/development/img-size-attributes-are-back
// https://liginc.co.jp/344056
// https://www.google.co.jp/search?q=%22opencv.js%22+%22save%22+%22image%22&ei=FqymY83KJqTm2roPismH0AI&ved=0ahUKEwjNrfG635H8AhUks1YBHYrkASoQ4dUDCA8&uact=5&oq=%22opencv.js%22+%22save%22+%22image%22&gs_lcp=Cgxnd3Mtd2l6LXNlcnAQAzIECAAQHjoKCAAQRxDWBBCwA0oECEEYAEoECEYYAFDqB1idDmDlD2gBcAF4AIABSogBjAGSAQEymAEAoAEByAEGwAEB&sclient=gws-wiz-serp
// https://docs.opencv.org/4.x/de/d06/tutorial_js_basic_ops.html
// https://qiita.com/yokra9/items/f9e98a9b47fe2d1234b0#fn9
// https://developer.mozilla.org/ja/docs/Web/API/HTMLCanvasElement/toBlob
// https://tech-blog.optim.co.jp/entry/2021/02/24/100000
// https://docs.opencv.org/3.4/d5/d10/tutorial_js_root.html
// https://docs.opencv.org/3.4/d1/d78/tutorial_js_table_of_contents_core.html
// https://docs.opencv.org/4.x/de/d06/tutorial_js_basic_ops.html
// https://docs.opencv.org/4.x/dd/d4d/tutorial_js_image_arithmetics.html
// https://docs.opencv.org/4.x/d5/df1/tutorial_js_some_data_structures.html
// https://docs.opencv.org/3.4/d2/df0/tutorial_js_table_of_contents_imgproc.html
// https://docs.opencv.org/3.4/da/d85/tutorial_js_gradients.html
// https://docs.opencv.org/4.x/d7/de1/tutorial_js_canny.html
// https://docs.opencv.org/4.x/d5/dc0/tutorial_js_table_of_contents_histograms.html
// https://docs.opencv.org/4.x/d0/d43/tutorial_js_table_of_contents_contours.html
// https://docs.opencv.org/4.x/da/dc1/tutorial_js_contour_properties.html
// https://stackoverflow.com/questions/67190799/how-to-include-cv-imread-when-building-opencv-js
// https://github.com/opencv/opencv/issues/21580
// https://www.bing.com/search?q=%22opencv.js%22++%22tesseract.js%22&qs=n&form=QBRE&sp=-1&pq=%22opencv.js%22+%22tesseract.js%22&sc=3-26&sk=&cvid=3E7AD86FF2D2455C98E12143F6CD5100&ghsh=0&ghacc=0&ghpl=
// https://www.twilio.com/blog/tesseract-js-react-ocr-part-one-jp
// https://github.com/naptha/tesseract.js
// https://github.com/naptha/tesseract.js/blob/master/examples/browser/basic.html
// https://github.com/naptha/tesseract.js/blob/master/examples/browser/download-pdf.html
// https://github.com/naptha/tesseract.js/blob/master/examples/browser/image-processing.html
// https://github.com/naptha/tesseract.js/issues
// https://github.com/naptha/tesseract.js/issues/618
// https://github.com/naptha/tesseract.js/issues/672
// https://github.com/naptha/tesseract.js/issues/493
// https://github.com/Balearica/tesseract.js-electron
// https://stackoverflow.com/questions/65846909/angular-tesseract-js-and-opencv-js
// https://github.com/naptha/tesseract.js/blob/master/docs/api.md#workerinitializelangs-oem-jobid-promise
// https://www.twilio.com/blog/tesseract-js-react-ocr-part-one-jp
// https://qiita.com/poruruba/items/7e4f63588ef10bdea44c
// https://qiita.com/poruruba/items/c6fc602ed284be178c13
// https://ichi.pro/tesseract-opencv-python-o-shiyoshita-ocr-231743215466598
// https://qiita.com/satsukiya/items/112c6c08a618b2376408
// https://qiita.com/henjiganai/items/7a5e871f652b32b41a18
// https://www.hobby-happymylife.com/%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0/python_opencv_ocr/
// https://qiita.com/sy102/items/0bf112b11d1f676efe7e
// http://independence-sys.net/main/?p=1831
// https://stackoverflow.com/questions/57964634/python-opencv-skew-correction-for-ocr
// https://forum.ionicframework.com/t/dectect-rectangle-and-crop-image-by-opencv-js/145570
// https://forum.ionicframework.com/t/ionic-4-webassembly-is-not-defined-with-opencv-on-an-older-phone/182182
// https://github.com/tak40548798/opencv.js-detection-crop-rectangle/blob/master/index.js
// https://non-it-engineer.com/pythonopencv%E3%81%A7%E6%8C%87%E5%AE%9A%E7%AF%84%E5%9B%B2%E3%81%AE%E3%81%BF%E3%81%AB%E7%94%BB%E5%83%8F%E5%87%A6%E7%90%86%E3%82%92%E8%A1%8C%E3%81%86%E6%96%B9%E6%B3%95/
// https://www.bing.com/search?q=OpenCV+Tesseract+OCR+pre+https%3A%2F%2Fstackoverflow.com%2F&qs=n&form=QBRE&sp=-1&pq=opencv+tesseract+ocr+pre+https%3A%2F%2Fstackoverflow.com%2F&sc=0-51&sk=&cvid=76A9CA5787794A4EA599E1BFCA352A92&ghsh=0&ghacc=0&ghpl=
// https://stackoverflow.com/questions/37745519/use-pytesseract-ocr-to-recognize-text-from-an-image
// https://stackoverflow.com/questions/28935983/preprocessing-image-for-tesseract-ocr-with-opencv
// https://stackoverflow.com/questions/37302098/image-preprocessing-with-opencv-before-doing-character-recognition-tesseract
// https://stackoverflow.com/questions/19268648/using-tesseract-to-recognize-license-plates/19418347#19418347
// https://www.google.co.jp/search?q=%22tesseract.js%22+%22vite%22&biw=1547&bih=1009&tbs=qdr%3Ay&ei=8NCmY-nMKoilhwOtx7qoDQ&ved=0ahUKEwjphLPNgpL8AhWI0mEKHa2jDtUQ4dUDCA8&uact=5&oq=%22tesseract.js%22+%22vite%22&gs_lcp=Cgxnd3Mtd2l6LXNlcnAQAzIFCAAQogQyBQgAEKIEMgUIABCiBDoKCAAQRxDWBBCwAzoECCEQCjoHCAAQHhDxBDoECAAQHjoGCAAQCBAeOgkIABAIEB4Q8QQ6BQgAEIAEOgcIABCABBATOgsIABAEEB4Q8QQQEzoGCAAQHhATOgkIABAeEPEEEBM6BQghEKABSgQIQRgASgQIRhgAUKUEWIgoYIApaAVwAXgAgAFmiAHWCpIBBDE2LjGYAQCgAQHIAQrAAQE&sclient=gws-wiz-serp
// https://blog.leko.jp/post/ocr-web-gl-with-tesseract-js/
// https://stackoverflow.com/questions/73012071/process-env-undefined-in-vite
// https://www.mussyu1204.com/wordpress/it/?p=1151
// https://www.bing.com/search?q=tesseract+%22resolution+as+1200%22&qs=n&form=QBRE&sp=-1&pq=tesseract+%22resolution+as+1200%22&sc=7-30&sk=&cvid=FDE49A6C0CD54B01995FE5A3B2DBF5E1&ghsh=0&ghacc=0&ghpl=
// https://www.google.co.jp/search?q=%22tesseract.js%22+%22vite%22&source=hp&ei=YdimY47KKZvl2roPpKur4AI&iflsig=AJiK0e8AAAAAY6bmcVuI2TdVuV-GQURFVuWZRher8Vr2&ved=0ahUKEwjO_uHZiZL8AhWbslYBHaTVCiwQ4dUDCAo&uact=5&oq=%22tesseract.js%22+%22vite%22&gs_lcp=Cgdnd3Mtd2l6EAMyBQghEKABUABYAGD_BGgAcAB4AIABbYgBbZIBAzAuMZgBAKABAqABAQ&sclient=gws-wiz
// https://blog.capilano-fw.com/?p=8085
// https://github.com/vitejs/vite/issues/2444
// https://github.com/vitejs/vite/issues/1979
// https://github.com/vitejs/vite/issues/2320
// https://press.monaca.io/atsushi/8010
// https://hf-labo.net/react-tesseract-js/
// https://qiita.com/poruruba/items/7e4f63588ef10bdea44c
// https://github.com/poruruba/utilities/search?q=Tesseract
// https://github.com/naptha/tesseract.js/tree/master/examples/browser
// https://github.com/naptha/tesseract.js
// https://github.com/naptha/tesseract.js/blob/master/docs/image-format.md
// https://github.com/naptha/tesseract.js/blob/master/docs/api.md
// https://github.com/naptha/tesseract.js/blob/master/docs/image-format.md
// https://github.com/naptha/tesseract.js/blob/master/docs/local-installation.md
// https://github.com/naptha/tesseract.js/blob/master/docs/examples.md
// https://www.bing.com/search?q=%22tesseract.js%22+%22psm%22&qs=n&form=QBRE&sp=-1&pq=%22tesseract.js%22+%22psm%22&sc=5-20&sk=&cvid=B07AB1B968D14F14BCC267A61FBB9871&ghsh=0&ghacc=0&ghpl=
// https://qiita.com/henjiganai/items/7a5e871f652b32b41a18
// https://github.com/naptha/tesseract.js/blob/master/docs/api.md#workersetparametersparams-jobid-promise
// https://github.com/naptha/tesseract.js/blob/master/src/constants/OEM.js
// https://github.com/naptha/tesseract.js/blob/master/src/constants/PSM.js
// https://maywork.net/computer/ocr-tesseract/
// https://tesseract-ocr.github.io/tessdoc/Command-Line-Usage.html
// https://qiita.com/tifa2chan/items/d2ae546804b1ce2e7277
// https://qiita.com/mimuro_syunya/items/533b567452c863d7813a
// https://github.com/tesseract-ocr/tessdoc
// https://qiita.com/hiroism/items/bd537e014e71d3cab1f9
// https://tesseract-ocr.github.io/tessdoc/tess3/ControlParams.html

// https://dulunoj.com/2021/01/02/ime%E3%81%AE%E3%82%AA%E3%83%B3%E3%83%BB%E3%82%AA%E3%83%95%E5%88%87%E3%82%8A%E6%9B%BF%E3%81%88%EF%BC%8Bcapslock%EF%BC%8Bus%E9%85%8D%E5%88%97%E3%82%AD%E3%83%BC%E3%83%9C%E3%83%BC%E3%83%89%E5%95%8F/
// https://www.vector.co.jp/soft/winnt/writing/se520452.html
// http://dulunoj.com/2022/12/08/%e3%82%a2%e3%82%af%e3%83%86%e3%82%a3%e3%83%96%e3%82%a6%e3%82%a3%e3%83%b3%e3%83%89%e3%82%a6%e3%82%92%e6%8e%a2%e3%81%9b%ef%bc%81/
// https://pc.siraberu.info/post-4530/
// https://up2me.hatenablog.com/entry/switching_japanese_ime_on_windows10
// https://github.com/naptha/tesseract.js/issues?q=+osd+
// https://github.com/naptha/tesseract.js/issues/408
// https://github.com/naptha/tesseract.js/issues/391
// https://github.com/naptha/tesseract.js/issues/662
// https://tesseract-ocr.github.io/tessdoc/Data-Files#data-files-for-version-400-november-29-2016

// https://stackoverflow.com/questions/5007530/how-do-i-scroll-to-an-element-using-javascript
// https://developer.mozilla.org/ja/docs/Web/API/Element/scrollIntoView
// https://docs.rs/wasm-cookies/latest/wasm_cookies/
// https://pkg.go.dev/net/http#Request.Cookie
// https://forum.golangbridge.org/t/cookies-in-http-response/3159
// https://golang.hotexamples.com/examples/net.http/Response/Cookies/golang-response-cookies-method-examples.html
// https://mintaku-blog.net/go-cookie/
// https://qiita.com/mokemokechicken/items/e2f45fd8ae7584993003
// https://rustwasm.github.io/wasm-bindgen/examples/hello-world.html
// https://stackoverflow.com/questions/52102612/is-it-possible-to-submit-http-requests-with-webassembly
// https://stackoverflow.com/questions/63662482/reading-cookie-from-wasm
// https://stackoverflow.com/questions/252665/i-need-to-get-all-the-cookies-from-the-browser
// https://qiita.com/mink0212/items/d5947ec0d619d6d74eb2
// https://withblue.ink/2020/10/03/go-webassembly-http-requests-and-promises.html
// https://re-engines.com/2021/11/01/go-wasm-promise/
// https://www.cetus-media.info/article/2021/go-wasm/
// https://github.com/emscripten-core/emscripten/issues/3270
// https://github.com/emscripten-core/emscripten/blob/main/src/library_browser.js
// https://github.com/emscripten-core/emscripten/pull/3016/files
// https://ex1.m-yabe.com/archives/5126
// https://ex1.m-yabe.com/archives/5123
// https://www.bing.com/search?q=curl+cookie+httponly&qs=n&form=QBRE&sp=-1&pq=curl+cookie+httpon&sc=0-18&sk=&cvid=1AA139A26E304B57A939107053D1FE54&ghsh=0&ghacc=0&ghpl=
// https://www.walbrix.co.jp/article/wordpress-test-cookie-httponly.html
// https://stackoverflow.com/questions/11261069/curl-cookiejar-line-commented-out-with-httponly
// https://github.com/wapm-packages/curl
// https://qiita.com/tacchi/items/a532aafd9c05fdf7be45
// https://zenn.dev/ryuu/scraps/6b2584294674b7
// https://curl.se/download.html
// https://techblog.kayac.com/using_libcurl_in_android.html
// https://stackoverflow.com/questions/4952169/using-curl-in-android
// https://github.com/vvb2060/curl-android
// https://qiita.com/riversun/items/5f78d47a3d95f857d34f
// https://www.publickey1.jp/blog/22/tauriiosandroidtauri_mobileelectronrust.html
// https://github.com/golang/go/issues/10247
// https://github.com/golang/go/wiki/Mobile
// https://pkg.go.dev/golang.org/x/mobile/cmd/gomobile
// https://github.com/golang/go/issues/45601
// https://qiita.com/kabochapo/items/b37c03ea9d30572fbd59
// https://www.google.co.jp/search?q=golang+wasm+http+request&ei=cnmyY56_HMKu2roP68ahmAs&oq=golang+wasm+http&gs_lcp=Cgxnd3Mtd2l6LXNlcnAQAxgAMgcIABCABBATMgYIABAeEBMyBggAEB4QEzILCAAQCBAeEPEEEBM6CggAEEcQ1gQQsAM6BQgAEKIEOgUIABCABDoHCAAQBBCABDoLCAAQgAQQsQMQgwE6BAgAEB46BwgAEB4Q8QQ6CAgAEAQQHhATOgoIABAIEAQQHhATSgQIQRgASgQIRhgAUKkVWK1aYP5faAFwAXgAgAF0iAGdEJIBBDE3LjaYAQCgAQHIAQrAAQE&sclient=gws-wiz-serp
// https://withblue.ink/2020/10/03/go-webassembly-http-requests-and-promises.html
// https://github.com/Inkeliz/gowebview
// https://feeld-uni.com/?p=2162
// https://stackoverflow.com/questions/36061448/download-to-a-particular-folder-from-a-web-application
// https://stackoverflow.com/questions/3915688/set-download-path
// https://stackoverflow.com/questions/50716986/open-file-with-system-application-in-a-progressive-web-app
// https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API
// https://qiita.com/pentamania/items/ada07c45d4e5cc139c03
// https://caniuse.com/?search=File%20System%20Access%20
// https://qiita.com/k-shimoji/items/acbbbb49530fb97f5893
// https://qiita.com/att55/items/2154a8aad8bf1409db2b
// https://qiita.com/kawaz/items/1e51c374b7a13c21b7e2
// http://surferonwww.info/BlogEngine/post/2012/08/13/how-to-get-cookies-with-httponly-attribute-in-webbrowser.aspx
// https://stackoverflow.com/questions/52646845/overwriting-httponly-cookie-by-javascript?noredirect=1

// https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Global_Objects/Array/findIndex
// https://developer.mozilla.org/ja/docs/Web/CSS/-webkit-line-clamp
// https://developer.mozilla.org/ja/docs/Web/CSS/text-overflow
// https://developer.mozilla.org/ja/docs/Web/CSS/text-indent
// https://developer.mozilla.org/ja/docs/Web/CSS/text-emphasis
// https://developer.mozilla.org/ja/docs/Web/CSS/CSS_Text/Wrapping_Text
// https://developer.mozilla.org/ja/docs/Web/CSS/hyphens
// https://zenn.dev/yend724/articles/20221105-osx4fnh0l44mn3ii
// https://qiita.com/tamanyan/items/e37e76b7743c59235995


// https://developer.mozilla.org/ja/docs/Web/API/Node/isSameNode
// https://hiro20180901.hatenablog.com/entry/2020/03/26/070000
// https://www.asahi-net.or.jp/~UG6M-KHT/PC/AMD_RYZEN/ryzen-bios.htm
// https://bucci.bp7.org/archives/46085/

import './index.css';
// import "./destyle.css";
import "./css/reset.css";
import './css/typing.css';
import {KeyInfo} from "./src/keyInfo";
// import {keyboard_info} from './src/keyboard_info'
import {initGuide} from "./src/guide";
import {InitInPSetEvent} from "./src/typing"
// import {setKeyEle} from "./src/keyDownInfo";

// https://ja.javascript.info/custom-elements Custom element(カスタム要素) の名前はハイフン - を含まなければいけません
customElements.define('key-info', KeyInfo);

// export const kInfo = new keyboard_info();
export async function initTyp() {
	const i2k = document.getElementById("i2k");
	document.querySelector(".i2k").addEventListener("click", e => {
		getWordNeedIme(i2k);
	});
	const keyI = document.createElement('key-info');
	keyI.id = "keyboard";
	// keyI.addEventListener('setEnd', e =>{
	// 	InitInPSetEvent();
	// });
	// setKeyEle(keyI);
	InitInPSetEvent();
	keyI.replaceCss("", 0);
	initGuide(getWordNeedIme(i2k));
	document.getElementById("app").append(keyI);
}
initTyp();


export function getWordNeedIme(i2kE) {
// https://support.microsoft.com/ja-jp/topic/%E3%83%AD%E3%83%BC%E3%83%9E%E5%AD%97%E5%85%A5%E5%8A%9B%E3%81%AE%E3%81%A4%E3%81%A5%E3%82%8A%E4%B8%80%E8%A6%A7%E8%A1%A8%E3%82%92%E7%A2%BA%E8%AA%8D%E3%81%97%E3%81%A6%E3%81%BF%E3%82%88%E3%81%86-bcc0ad7e-2781-cc9a-e524-7de506d8fdae
let imeOnWord2Key = `
っうぁ,wwha
っうぃ,wwi
っうぇ,wwe
っうぉ,wwho
うぁ,wha
うぃ,wi
うぇ,we
うぉ,who
あ,a
い,i
う,u
え,e
お,o

きゃ,kya
きぃ,kyi
きゅ,kyu
きぇ,kye
きょ,kyo
くぁ,qa
くぃ,qi
くぅ,qwu
くぇ,qe
くぉ,qo
くゃ,qya
くゅ,qyu
くょ,qyo
っか,kka
っき,kki
っく,kku
っけ,kke
っこ,kko
っきゃ,kkya
っきぃ,kkyi
っきゅ,kkyu
っきぇ,kkye
っきょ,kkyo
か,ka
き,ki
く,ku
け,ke
こ,ko
ぎゃ,gya
ぎぃ,gyi
ぎゅ,gyu
ぎぇ,gye
ぎょ,gyo
ぐぁ,gwa
ぐぃ,gwi
ぐぅ,gwu
ぐぇ,gwe
ぐぉ,gwo
っが,gga
っぎ,ggi
っぐ,ggu
っげ,gge
っご,ggo
っぐぁ,ggwa
っぐぃ,ggwi
っぐぅ,ggwu
っぐぇ,ggwe
っぐぉ,ggwo
っヵ,llka
っヶ,llke
が,ga
ぎ,gi
ぐ,gu
げ,ge
ご,go
ヵ,lka
ヶ,lke


っしゃ,ssya
っしぃ,ssyi
っしゅ,ssyu
っしぇ,ssye
っしょ,ssyo
っすぁ,sswa
っすぃ,sswi
っすぅ,sswu
っすぇ,sswe
っすぉ,sswo
しゃ,sya
しぃ,syi
しゅ,syu
しぇ,sye
しょ,syo
すぁ,swa
すぃ,swi
すぅ,swu
すぇ,swe
すぉ,swo
っそ,sso
っさ,ssa
っし,ssi
っす,ssu
っせ,sse
っそ,sso
さ,sa
し,si
す,su
せ,se
っじゃ,jja
っじぃ,zzyi
っじゅ,jju
っじぇ,jje
っじょ,jjo
じゃ,ja
じぃ,zyi
じゅ,ju
じぇ,je
じょ,jo
っざ,zza
っじ,zzi
っず,zzu
っぜ,zze
っぞ,zzo
ざ,za
じ,zi
ず,zu
ぜ,ze
ぞ,zo

っちゃ,ttya
っちぃ,ttyi
っちゅ,ttyu
っちぇ,ttye
っちょ,ttyo
っつゃ,ttsa
っつぃ,ttsi
っつぇ,ttse
っつょ,ttso
ってゃ,ttha
ってぃ,tthi
ってゅ,tthu
ってぇ,tthe
ってょ,ttho
っとゃ,ttwa
っとぃ,ttwi
っとゅ,ttwu
っとぇ,ttwe
っとょ,ttwo
ちゃ,tya
ちぃ,tyi
ちゅ,tyu
ちぇ,tye
ちょ,tyo
つゃ,tsa
つぃ,tsi
つぇ,tse
つょ,tso
てゃ,tha
てぃ,thi
てゅ,thu
てぇ,the
てょ,tho
とゃ,twa
とぃ,twi
とゅ,twu
とぇ,twe
とょ,two

った,tta
っち,tti
っつ,ttu
って,tte
っと,tto
た,ta
ち,ti
つ,tu
て,te
と,to

っぢゃ,ddya
っぢぃ,ddyi
っぢゅ,ddyu
っぢぇ,ddye
っぢょ,ddyo
っでゃ,ddha
っでぃ,ddhi
っでゅ,ddhu
っでぇ,ddhe
っでょ,ddho
っどゃ,ddwa
っどぃ,ddwi
っどゅ,ddwu
っどぇ,ddwe
っどょ,ddwo
ぢゃ,dya
ぢぃ,dyi
ぢゅ,dyu
ぢぇ,dye
ぢょ,dyo
でゃ,dha
でぃ,dhi
でゅ,dhu
でぇ,dhe
でょ,dho
どゃ,dwa
どぃ,dwi
どゅ,dwu
どぇ,dwe
どょ,dwo

っだ,dda
っぢ,ddi
っづ,ddu
っで,dde
っど,ddo
だ,da
ぢ,di
づ,du
で,de
ど,do

な,na
に,ni
ぬ,nu
ね,ne
の,no
にゃ,nya
にぃ,nyi
にゅ,nyu
にぇ,nye
にょ,nyo
っな,nna
っに,nni
っぬ,nnu
っね,nne
っの,nno
っにゃ,nnya
っにぃ,nnyi
っにゅ,nnyu
っにぇ,nnye
っにょ,nnyo


っひゃ,hhya
っひぃ,hhyi
っひゅ,hhyu
っひぇ,hhye
っひょ,hhyo
っふぁ,ffwa
っふぃ,ffi
っふぅ,ffwu
っふぇ,ffe
っふぉ,ffo
っふゃ,ffya
っふゅ,ffyu
っふょ,ffyo
ひゃ,hya
ひぃ,hyi
ひゅ,hyu
ひぇ,hye
ひょ,hyo
ふぁ,fwa
ふぃ,fi
ふぅ,fwu
ふぇ,fe
ふぉ,fo
ふゃ,fya
ふゅ,fyu
ふょ,fyo
っは,hha
っひ,hhi
っふ,hhu
っへ,hhe
っほ,hho
は,ha
ひ,hi
ふ,hu
へ,he
ほ,ho

っヴぁ,vva
っヴぃ,vvi
っヴぇ,vve
っヴぉ,vvo
っヴゃ,vvya
っヴゅ,vvyu
っヴょ,vvyo
っヴ,vvu
ヴゃ,vya
ヴゅ,vyu
ヴょ,vyo
ヴぁ,va
ヴぃ,vi
ヴぇ,ve
ヴぉ,vo
ヴ,vu

っびゃ,bbya
っびぃ,bbyi
っびゅ,bbyu
っびぇ,bbye
っびょ,bbyo
びゃ,bya
びぃ,byi
びゅ,byu
びぇ,bye
びょ,byo
っば,bba
っび,bbi
っぶ,bbu
っべ,bbe
っぼ,bbo
ば,ba
び,bi
ぶ,bu
べ,be
ぼ,bo

っぴゃ,ppya
っぴぃ,ppyi
っぴゅ,ppyu
っぴぇ,ppye
っぴょ,ppyo
ぴゃ,pya
ぴぃ,pyi
ぴゅ,pyu
ぴぇ,pye
ぴょ,pyo
っぱ,ppa
っぴ,ppi
っぷ,ppu
っぺ,ppe
っぽ,ppo
ぱ,pa
ぴ,pi
ぷ,pu
ぺ,pe
ぽ,po

っみゃ,mmya
っみぃ,mmyi
っみゅ,mmyu
っみぇ,mmye
っみょ,mmyo
みゃ,mya
みぃ,myi
みゅ,myu
みぇ,mye
みょ,myo
っま,mma
っみ,mmi
っむ,mmu
っめ,mme
っも,mmo
ま,ma
み,mi
む,mu
め,me
も,mo

っゃ,llya
っゅ,llyu
っょ,llyo
っや,yya
っゆ,yyu
っよ,yyo
や,ya
ゆ,yu
よ,yo

っりゃ,rrya
っりぃ,rryi
っりゅ,rryu
っりぇ,rrye
っりょ,rryo
りゃ,rya
りぃ,ryi
りゅ,ryu
りぇ,rye
りょ,ryo
っら,rra
っり,rri
っる,rru
っれ,rre
っろ,rro
ら,ra
り,ri
る,ru
れ,re
ろ,ro

っわ,wwa
っを,wwo
わ,wa
を,wo
ん,nn

ぁ,la
ぃ,li
ぅ,lu
ぇ,le
ぉ,lo
ゃ,lya
ゅ,lyu
ょ,lyo
っ,ltu`;

	let w2imeK = new Map();
	if(i2kE.value.length == 0){
		const t = localStorage.getItem("ime2key.txt");
		if(t == null){
			//設定値がテキストエリアにない、過去の設定値もないならデフォルト値
			i2kE.value = imeOnWord2Key;
			localStorage.setItem("ime2key.txt", imeOnWord2Key);
		}else{
			//設定値がテキストエリアにない、過去の設定値がある
			imeOnWord2Key = t;
			i2kE.value = t;
		}
	}else{
		//設定値がテキストエリアにある
		localStorage.setItem("ime2key_old.txt", imeOnWord2Key);
		//設定値を更新
		imeOnWord2Key = i2kE.value;
		localStorage.setItem("ime2key.txt", imeOnWord2Key);
	}
	let imeOnWord2KeyInfo =  imeOnWord2Key.replaceAll("\r\n", "\n");
	imeOnWord2KeyInfo = imeOnWord2KeyInfo.replaceAll(" ", "");
	let imeOnkeyInfo = imeOnWord2KeyInfo.split("\n");
	w2imeK.set("arr", []);// [[["あ"],["a"]],[["か"],["k","a"]][["ち", "ょ"],["t","y","o"];

	let scriptContinue = true;
	let cnt = 0;
	for (; cnt < imeOnkeyInfo.length; cnt++){
		// console.log("imeOnkeyInfo["+cnt+"]:", imeOnkeyInfo[cnt]
		// ,"this.keys.w2imeK.get(arr):", this.keys.w2imeK.get("arr")
		// );
		const s = imeOnkeyInfo[cnt].split(",");
		console.debug("s.length", s.length);
		if(s.length == 2){
			const c = Array.from(s[0])[0];
			w2imeK.set(c, 0);
			w2imeK.get("arr").push([[...s[0]], [...s[1]]])
			// console.log("imeOnkeyInfo["+cnt+"]:", imeOnkeyInfo[cnt]
			// ,"w2imeK", w2imeK
			// );
		}else if(s.length == 1){

		}else{
			scriptContinue = false;
			break;
		}
	}
	if (!scriptContinue) {
		alert("IME有効時、最初に押された時表示される文字の設定ミス:" + imeOnkeyInfo[cnt] + "/" + (cnt+1) + "行目");
		// https://stackoverflow.com/questions/550574/how-to-terminate-the-script-in-javascript
		throw imeOnkeyInfo[cnt];
	}
	console.log("imeOnkey:",w2imeK);
	return w2imeK;
}